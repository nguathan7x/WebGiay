 @using System.Globalization
@model IEnumerable<WebGiayOnline.Models.Favorite>

@{
    var isAjax = Context.Request.Headers["X-Requested-With"] == "XMLHttpRequest";
    Layout = isAjax ? null : "~/Views/Shared/_Layout.cshtml";
}
<head>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
</head>
<div class="container py-4">
    <h2 class="mb-4 text-center fw-bold">Your Favorite Products</h2>

    @if (!Model.Any())
    {
        <div class="alert alert-info text-center">
            You haven't added any favorites yet.
        </div>
    }
    else
    {
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            @foreach (var fav in Model)
            {
                @await Component.InvokeAsync("GiayCard", fav.Giay)
            }
        </div>
    }
</div>
@* <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    @foreach (var fav in Model)
    {
        @await Component.InvokeAsync("GiayCard", fav.Giay)
    }
</div> *@

<style>
    .card:hover {
        transform: scale(1.02);
        transition: all 0.3s ease;
        box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    }

    h2, .card-title {
        font-family: 'Playfair Display', serif;
    }
</style>
@* <div class="col">
    <div class="card h-100 shadow-sm border-0">
        <img src="@fav.Giay.ImageUrl" class="card-img-top" alt="@fav.Giay.Name" style="height: 300px; object-fit: cover;">
        <div class="card-body d-flex flex-column">
            <h5 class="card-title text-truncate">@fav.Giay.Name</h5>
            <p class="card-text text-muted mb-3">
                Price:<strong>
                    @fav.Giay.Price.ToString("C0", CultureInfo.GetCultureInfo("vi-VN"))
                </strong> @* <strong>@String.Format("{0:N0}₫", fav.Giay.Price)</strong></p> *@
           @*      <div class="mt-auto d-flex gap-2">
                    <a asp-controller="Product" asp-action="Details" asp-route-id="@fav.GiayId" class="btn btn-dark w-100">
                        View Details
                    </a>
                    <form method="post" asp-action="ToggleFavorite" asp-controller="Favorite" class="w-100">
                        <input type="hidden" name="giayId" value="@fav.GiayId" />
                        <button type="submit" class="btn btn-outline-danger w-100">Remove</button>
                    </form>
                </div>
        </div>
    </div>
</div> *@ 